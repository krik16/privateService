<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.rongyi.easy.osm.entity.OrderEventMapper" >
  <resultMap id="OrderEventMapper" type="com.rongyi.easy.osm.entity.OrderEventEntity" 
  	extends="com.rongyi.easy.osm.entity.OrderEventEntityMapper.BaseResultMap">
  </resultMap>
  
  <insert id="insertAndGetId" parameterType="com.rongyi.easy.osm.entity.OrderEventEntity" 
  	useGeneratedKeys="true" keyProperty="id">
  	  <!-- 
  	  <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER" > 
	     SELECT LAST_INSERT_ID() AS id
	  </selectKey>
	  -->
  	insert into 
	  	order_event (
	  		id, 
	  		order_no, 
	  		orig_status, 
	      	create_at, 
	      	detail, 
	      	status,
	      	type
	      )
	    values (
	    	#{id,jdbcType=INTEGER}, 
	    	#{orderNo,jdbcType=INTEGER}, 
	    	#{origStatus,jdbcType=INTEGER}, 
	      	#{createAt,jdbcType=TIMESTAMP}, 
	      	#{detail,jdbcType=VARCHAR}, 
	      	#{status,jdbcType=VARCHAR},
	      	#{type,jdbcType=VARCHAR}
	      )
  </insert>
</mapper>