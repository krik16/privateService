/** 
 * @Title: SalesCommissionTest.java 
 * @Package com.rongyi.tms.service 
 * @Description: 佣金接口测试
 * @author 郑亦梁  zhengyiliang@rongyi.com
 * @date 2015年5月22日 下午4:31:10 
 * @version V1.0   
 * Copyright (C),上海容易网电子商务有限公司
 */
package com.rongyi.tms.service;

import com.rongyi.tms.BaseTest;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.annotation.Rollback;
import org.testng.annotations.Test;

/**
 * @author ZhengYl
 * 
 */
public class SalesCommissionImplTest extends BaseTest {

	@Autowired
	SalesCommissionService salesCommissionService;
//
//	@Autowired
//	@Qualifier("accountInfoServiceImpl")
//	AccountInfoService accountInfoService;
//
//	@Rollback(false)
////	@Test(description = "插入")
//	public void selectListBySearchTest() {
//	    String orderString[]={"1000000429097308","1000000812101844","1000001448623098","1000001289530699","1000000086321063","1000000007432989","1000001747727507","1000000350905138","1000001723152758","1000001474979117","1000001399011862","1000002011448429","1000001712214992","1000002048624523","1000000160872041","1000000965489856","1000001615143877","1000001486500841","1000000411763649","1000001824010831","1000000654865851","1000000761597716","1000000369593426","1000000654296033","1000001078665326","1000000925035688","1000001953000062","1000000786420907","1000000732543235","1000000251173610","1000001548862320","1000001099356489","1000000154979294","1000001799285668","1000000805792540","1000001000684090","1000000929667813","1000001009514074","1000001711576973","1000001851855821","1000001626424441","1000000887218405","1000000068552421","1000001813887828","1000000184994333","1000000191372260","1000001167473955","1000000786916483","1000000934112471","1000001515326558","1000000814736085","1000001078485576","1000000702976341","1000000950994968","1000001995721680","1000001703609283","1000001553595302","1000001380796890","1000001384902595","1000001382017868","1000000126270954","1000000490180273","1000000550289604","1000000414405111","1000000497424248","1000001675758371","1000001377423981","1000000071997437","1000000532487006","1000000821226252","1000001165720964","1000000327225463","1000000809896245","1000001523100713","1000001135359315","1000000429935898","1000002099994207","1000000255092857","1000001485156146","1000001311832930","1000000643709337","1000001698788458","1000001444944036","1000000345238098","1000000345238098","1000000345238098","1000000178017958","1000000178017958","1000000178017958","1000001516163004","1000001516163004","1000001516163004","1000000422333805","1000000422333805","1000000422333805","1000001223802824","1000001223802824","1000001223802824","1000000096721319","1000000995884805","1000000096721319","1000000995884805","1000000096721319","1000000995884805","1000000951058406","1000000951058406","1000000951058406","1000001000432878","1000001000432878","1000001000432878","1000000788338862","1000001414873597","1000001901710726","1000000566883795","1000001756103400","1000000607293312","1000001720345389","1000001729457481","1000001885524036","1000000472138543","1000000893857852","1000000674897794","1000001906007790","1000001244569704","1000001932029509","1000000704964436","1000001503508720","1000000313883706","1000000324206200","1000001481089081","1000001093229963","1000000293817412","1000000176077615","1000001586808966","1000001124023535","1000001143243567","1000000082637540","1000001000547350","1000000297351811","1000000407695827","1000001873781704","1000001162708263","1000000603876275","1000000731968617","1000001416950936","1000001356267390","1000000951440449","1000000909505385","1000000895765972","1000001272510778","1000001208177256","1000000776589794","1000000197516435","1000001342269588","1000001720760856","1000001683175440","1000001022556799","1000000179819059","1000000351902145","1000001122258207","1000000773794903","1000000240527726","1000000079214506","1000001407105699","1000001430322500","1000001372391526","1000001678909141","1000000879128360","1000000545080907","1000001979217597","1000002041492237","1000001892574178","1000001967820351","1000000296638404","1000000349456704","1000001811705601","1000000874084414","1000001822119566","1000000500582157","1000001672713392","1000001377968901","1000001891406095","1000000019761277","1000000855767934","1000001015830904","1000002024668132","1000001416293138","1000000308704667","1000000307767143","1000001818227011","1000001358932328","1000000885216132","1000002117954205","1000000002052632","1000001360812399","1000001926437559","1000000174008955","1000000676568872","1000001150747243","1000000416663884","1000001981003083","1000001800255114","1000001162024559","1000001487385792","1000000266452984","1000001098599309","1000001812962059","1000001023307768","1000000002532005","1000001219962801","1000000556491076","1000001121115023","1000001865898394","1000001070920522","1000001907414823","1000000268376828","1000000868749432","1000001920404502","1000002091758538","1000001692321530","1000000110730109","1000001457471629","1000001476869478","1000001095226520","1000000705252034","1000000177402609","1000000696122895","1000000514518629","1000001905977950","1000000304926312","1000000332604820","1000000827205036","1000000053053149","1000000232638990","1000002070978392","1000000429271925","1000000537741776","1000001686454213","1000000245546248","1000000119988051","1000002052160366","1000001508007653","1000001548064591","1000001269499322","1000002132850608","1000002043775243","1000001791866128","1000000206545586","1000001657019845","1000000270893970","1000001443174590","1000001693194335","1000001565811583","1000001132804618","1000001176579721","1000001705003695","1000000016857585","1000001303449521","1000002007246224","1000000567652522","1000001422159441","1000001091131248","1000000943085962","1000001849888869","1000000419512355","1000001535980492","1000000030930500","1000001121392424","1000001013039923","1000000984917926","1000000308198035","1000001086387826"};
//		for(int i=0,length=orderString.length;i<length;i++){
//		    SalesCommission salesCommission = new SalesCommission();
//	        salesCommission.setCommissionAmount(new BigDecimal(50+i));
//	        int id=(int)(Math.random()*31)+1;
//	        System.err.println(id);
//	        salesCommission.setGuideId(id+"");
//	        salesCommission.setOrderNo(orderString[i]);
//	        salesCommission.setStatus(0);
//	        salesCommission.setPicUploadAt(new Date(new Date().getTime()+100000000*i));
//	        salesCommission.setPicUrls("https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&tn=baidu&wd=java%20int%E8%BD%ACbyte&rsv_pq=fda654330003c986&rsv_t=6e54EQJbsw%2BRs0TNkwktWiGb2XxMky9iFmXR2Riw5CE7MOHNYyy4hvDT%2Fjo&rsv_enter=1&rsv_sug3=8&rsv_sug1=8&sug=java%20int%E8%BD%ACbyte&oq=java%20int%20zh&rsv_n=1&bs=java");
//
//	        salesCommissionService.insert(salesCommission);
//	        System.err.println("id="+salesCommission.getId());
//		}
//
//
//	}
//	@Rollback(false)
//    @Test(description = "查找")
//    public void searchPage() {
//	    SalesCommissionParam param=new SalesCommissionParam();
//	    param.setStatus("1,0");
//	    param.setMallName("");
//	    param.setAmountEnd("");
//	    param.setAmountStart("");
//	    param.setCommissionNo("");
//	    param.setShopName("");
//	    param.setSellerName("");
//	    param.setUploadEndTime("");
//	    param.setUploadStartTime("");
//	    param.setVaStatus("-1,0,1");
//	    PagingVO<SalesCommissionVO> vos= salesCommissionService.findByPage(param);
//	    System.err.println("size:"+vos.getDataList().size());
//    }
//	@Rollback(false)
////	@Test(description="根据id查找")
//	public void getById(){
//	    SalesCommissionVO vo=salesCommissionService.selectOneById(4);
//	    System.err.println("order_no:"+vo);
//	}
//
//	@Rollback(false)
////	@Test(description="批量更新")
//	public void updateBatch(){
//	    CheckParam params=new CheckParam();
//	    params.setIds("2,3");
//	    params.setOperateBiz(2);
//	    params.setStatus(2);
//	    params.setReason("未知！");
//	    int result=salesCommissionService.updateBatch(params, "袁波");
//	    System.err.println("update result:"+result);
//	}
//	@Rollback(true)
////	@Test(description="查询返佣金额总额")
//	public void getAmountTotal(){
//	    salesCommissionService.statisticsCommissionAmountTrigger();
//	}
//	@Rollback(false)
////    @Test(description="查询返佣金额总额")
//    public void updateBatchHadSendedVATest(){
//	    List<String> ids=new ArrayList<String>();
//	    ids.add("test123456");
//	    ids.add("1");
////        salesCommissionService.updateBatchHadSendedVA(ids);
//    }
//
////	@Test(description="查询当月失败佣金")
//	public void selectFaleCommissionTest(){
//		CommissionInfoVO comm = salesCommissionService.selectFaleCommission("244");
//		System.err.println("result="+comm.getFaleCommissionMonth());
//	}
//
////	@Test
//	public void queryAccountInfoTest(){
//		VirtualAccountVO vir = accountInfoService.queryAccountInfo("244");
//		System.err.println("本月失败佣金："+vir.getFaleCommissionMonth());
//		System.err.println("提现中的佣金："+vir.getDrawForAuditTotal());
//		System.err.println("审核中的佣金："+vir.getCommissionForAuditTotal());
//		System.err.println("今日交易金额："+vir.getTradeDaily());
//	}

    @Test
    @Rollback(false)
    public void testCalcCommissioinLimit(){
        salesCommissionService.calcCommissioinLimit("119",1);
    }
}
